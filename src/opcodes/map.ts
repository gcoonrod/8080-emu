import { OpCodeSize } from "."
import { OpExecute } from "../cpu"
import * as executeFns from './executeFns'

type OpCodeMap = {
  [name: string]: [number, OpCodeSize, OpExecute?]
}

export const opcodes: OpCodeMap = {
  'NOP':    [0x00, 1, executeFns.NOP],
  'LXI  B': [0x01, 3, executeFns.LXI_B],
  'STAX B': [0x02, 1],
  'INX  B': [0x03, 1],
  'INR  B': [0x04, 1],
  'DCR  B': [0x05, 1, executeFns.DCR_B],
  'MVI  B': [0x06, 2, executeFns.MVI_B],
  'RLC':    [0x07, 1],
  'DAD  B': [0x09, 1, executeFns.DAD_B],
  'LDAX B': [0x0a, 1],
  'DCX  B': [0x0b, 1],
  'INR  C': [0x0c, 1],
  'DCR  C': [0x0d, 1, executeFns.DCR_C],
  'MVI  C': [0x0e, 2, executeFns.MVI_C],
  'RRC':    [0x0f, 1, executeFns.RRC],
  'LXI D':  [0x11, 3, executeFns.LXI_D],
  'STAX D': [0x12, 1],
  'INX  D': [0x13, 1, executeFns.INX_D],
  'INR  D': [0x14, 1],
  'DCR  D': [0x15, 1],
  'MVI  D': [0x16, 2],
  'RAL':    [0x17, 1],
  'DAD  D': [0x19, 1, executeFns.DAD_D],
  'LDAX D': [0x1a, 1, executeFns.LDAX_D],
  'DCX  D': [0x1b, 1],
  'INR  E': [0x1c, 1],
  'DCR  E': [0x1d, 1],
  'MVI  E': [0x1e, 2],
  'RAR':    [0x1f, 1, executeFns.RAR],
  'LXI H':  [0x21, 3, executeFns.LXI_H],
  'SHLD a': [0x22, 3],
  'INX  H': [0x23, 1, executeFns.INX_H],
  'INR  H': [0x24, 1, executeFns.INR_H],
  'DCR  H': [0x25, 1],
  'MVI  H': [0x26, 2, executeFns.MVI_H],
  'DAA':    [0x27, 1],
  'DAD  H': [0x29, 1, executeFns.DAD_H],
  'LHLD a': [0x2a, 3],
  'DCX  H': [0x2b, 1],
  'INR  L': [0x2c, 1],
  'DCR  L': [0x2d, 1],
  'MVI  L': [0x2e, 2],
  'CMA':    [0x2f, 1, executeFns.CMA],
  'LXI SP': [0x31, 3, executeFns.LXI_SP],
  'STA a':  [0x32, 3, executeFns.STA],
  'INX SP': [0x33, 1],
  'INR  M': [0x34, 1],
  'DCR  M': [0x35, 1],
  'MVI  M': [0x36, 2, executeFns.MVI_M],
  'STC':    [0x37, 1],
  'DAD SP': [0x39, 1],
  'LDA  a': [0x3a, 3, executeFns.LDA],
  'DCX SP': [0x3b, 1],
  'INR  A': [0x3c, 1],
  'DCR  A': [0x3d, 1],
  'MVI  A': [0x3e, 2, executeFns.MVI_A],
  'CMC':    [0x3f, 1],
  'MOV B,B':  [0x40, 1],
  'MOV B,C':  [0x41, 1],
  'MOV B,D':  [0x42, 1],
  'MOV B,E':  [0x43, 1],
  'MOV B,H':  [0x44, 1],
  'MOV B,L':  [0x45, 1],
  'MOV B,M':  [0x46, 1],
  'MOV B,A':  [0x47, 1],
  'MOV C,B':  [0x48, 1],
  'MOV C,C':  [0x49, 1],
  'MOV C,D':  [0x4a, 1],
  'MOV C,E':  [0x4b, 1],
  'MOV C,H':  [0x4c, 1],
  'MOV C,L':  [0x4d, 1],
  'MOV C,M':  [0x4e, 1],
  'MOV C,A':  [0x4f, 1],
  'MOV D,B':  [0x50, 1],
  'MOV D,C':  [0x51, 1],
  'MOV D,D':  [0x52, 1],
  'MOV D,E':  [0x53, 1],
  'MOV D,H':  [0x54, 1],
  'MOV D,L':  [0x55, 1],
  'MOV D,M':  [0x56, 1, executeFns.MOV_DM],
  'MOV D,A':  [0x57, 1],
  'MOV E,B':  [0x58, 1],
  'MOV E,C':  [0x59, 1],
  'MOV E,D':  [0x5a, 1],
  'MOV E,E':  [0x5b, 1],
  'MOV E,H':  [0x5c, 1],
  'MOV E,L':  [0x5d, 1],
  'MOV E,M':  [0x5e, 1, executeFns.MOV_EM],
  'MOV E,A':  [0x5f, 1],
  'MOV H,B':  [0x60, 1],
  'MOV H,C':  [0x61, 1],
  'MOV H,D':  [0x62, 1],
  'MOV H,E':  [0x63, 1],
  'MOV H,H':  [0x64, 1],
  'MOV H,L':  [0x65, 1],
  'MOV H,M':  [0x66, 1, executeFns.MOV_HM],
  'MOV H,A':  [0x67, 1],
  'MOV L,B':  [0x68, 1],
  'MOV L,C':  [0x69, 1],
  'MOV L,D':  [0x6a, 1],
  'MOV L,E':  [0x6b, 1],
  'MOV L,H':  [0x6c, 1],
  'MOV L,L':  [0x6d, 1],
  'MOV L,M':  [0x6e, 1],
  'MOV L,A':  [0x6f, 1],
  'MOV M,B':  [0x70, 1],
  'MOV M,C':  [0x71, 1],
  'MOV M,D':  [0x72, 1],
  'MOV M,E':  [0x73, 1],
  'MOV M,H':  [0x74, 1],
  'MOV M,L':  [0x75, 1],
  'HLT':      [0x76, 1, executeFns.HLT],
  'MOV M,A':  [0x77, 1, executeFns.MOV_MA],
  'MOV A,B':  [0x78, 1],
  'MOV A,C':  [0x79, 1],
  'MOV A,D':  [0x7a, 1, executeFns.MOV_DA],
  'MOV A,E':  [0x7b, 1, executeFns.MOV_EA],
  'MOV A,H':  [0x7c, 1, executeFns.MOV_HA],
  'MOV A,L':  [0x7d, 1],
  'MOV A,M':  [0x7e, 1, executeFns.MOV_AM],
  'MOV A,A':  [0x7f, 1],
  'ADD B':    [0x80, 1, executeFns.ADD_B],
  'ADD C':    [0x81, 1, executeFns.ADD_C],
  'ADD D':    [0x82, 1],
  'ADD E':    [0x83, 1],
  'ADD H':    [0x84, 1],
  'ADD L':    [0x85, 1],
  'ADD M':    [0x86, 1, executeFns.ADD_M],
  'ADD A':    [0x87, 1],
  'ADC B':    [0x88, 1],
  'ADC C':    [0x89, 1],
  'ADC D':    [0x8a, 1],
  'ADC E':    [0x8b, 1],
  'ADC H':    [0x8c, 1],
  'ADC L':    [0x8d, 1],
  'ADC M':    [0x8e, 1],
  'ADC A':    [0x8f, 1],
  'SUB B':    [0x90, 1],
  'SUB C':    [0x91, 1],
  'SUB D':    [0x92, 1],
  'SUB E':    [0x93, 1],
  'SUB H':    [0x94, 1],
  'SUB L':    [0x95, 1],
  'SUB M':    [0x96, 1],
  'SUB A':    [0x97, 1],
  'SBB B':    [0x98, 1],
  'SBB C':    [0x99, 1],
  'SBB D':    [0x9a, 1],
  'SBB E':    [0x9b, 1],
  'SBB H':    [0x9c, 1],
  'SBB L':    [0x9d, 1],
  'SBB M':    [0x9e, 1],
  'SBB A':    [0x9f, 1],
  'ANA B':    [0xa0, 1],
  'ANA C':    [0xa1, 1],
  'ANA D':    [0xa2, 1],
  'ANA E':    [0xa3, 1],
  'ANA H':    [0xa4, 1],
  'ANA L':    [0xa5, 1],
  'ANA M':    [0xa6, 1],
  'ANA A':    [0xa7, 1, executeFns.ANA_A],
  'XRA B':    [0xa8, 1],
  'XRA C':    [0xa9, 1],
  'XRA D':    [0xaa, 1],
  'XRA E':    [0xab, 1],
  'XRA H':    [0xac, 1],
  'XRA L':    [0xad, 1],
  'XRA M':    [0xae, 1],
  'XRA A':    [0xaf, 1, executeFns.XRA_A],
  'ORA B':    [0xb0, 1],
  'ORA C':    [0xb1, 1],
  'ORA D':    [0xb2, 1],
  'ORA E':    [0xb3, 1],
  'ORA H':    [0xb4, 1],
  'ORA L':    [0xb5, 1],
  'ORA M':    [0xb6, 1],
  'ORA A':    [0xb7, 1],
  'CMP B':    [0xb8, 1],
  'CMP C':    [0xb9, 1],
  'CMP D':    [0xba, 1],
  'CMP E':    [0xbb, 1],
  'CMP H':    [0xbc, 1],
  'CMP L':    [0xbd, 1],
  'CMP M':    [0xbe, 1],
  'CMP A':    [0xbf, 1],
  'RNZ':      [0xc0, 1],
  'POP B':    [0xc1, 1, executeFns.POP_B],
  'JNZ a':    [0xc2, 3, executeFns.JNZa],
  'JMP a':    [0xc3, 3, executeFns.JMPa],
  'CNZ a':    [0xc4, 3],
  'PUSH B':   [0xc5, 1, executeFns.PUSH_B],
  'ADI D8':   [0xc6, 2, executeFns.ADI_D8],
  'RSC 0':    [0xc7, 1],
  'RZ':       [0xc8, 1],
  'RET':      [0xc9, 1, executeFns.RET],
  'JZ a':     [0xca, 3],
  'CZ a':     [0xcc, 3],
  'CALL a':   [0xcd, 3, executeFns.CALLa],
  'ACI D8':   [0xce, 2],
  'RST 1':    [0xcf, 1],
  'RNC':      [0xd0, 1],
  'POP D':    [0xd1, 1, executeFns.POP_D],
  'JNC a':    [0xd2, 3],
  'OUT D8':   [0xd3, 2, executeFns.OUT_D8],
  'CNC a':    [0xd4, 3],
  'PUSH D':   [0xd5, 1, executeFns.PUSH_D],
  'SUI D8':   [0xd6, 2],
  'RST 2':    [0xd7, 1],
  'RC':       [0xd8, 1],
  'JC a':     [0xda, 1],
  'IN D8':    [0xdb, 2, executeFns.IN_D8],
  'CC a':     [0xdc, 3],
  'SBI D8':   [0xde, 2],
  'RST 3':    [0xdf, 1],
  'RPO':      [0xe0, 1],
  'POP H':    [0xe1, 1, executeFns.POP_H],
  'JPO a':    [0xe2, 3],
  'XTHL':     [0xe3, 1],
  'CPO a':    [0xe4, 3],
  'PUSH H':   [0xe5, 1],
  'ANI D8':   [0xe6, 2, executeFns.ANI_D8],
  'RST 4':    [0xe7, 1],
  'RPE':      [0xe8, 1],
  'PCHL':     [0xe9, 1],
  'JPE a':    [0xea, 3],
  'XCHG':     [0xeb, 1, executeFns.XCHG],
  'CPE a':    [0xec, 3],
  'XRI D8':   [0xee, 2],
  'RST 5':    [0xef, 1],
  'RP':       [0xf0, 1],
  'POP PSW':  [0xf1, 1, executeFns.POP_PSW],
  'JP a':     [0xf2, 3],
  'DI':       [0xf3, 1],
  'CP a':     [0xf4, 3],
  'PUSH PSW': [0xf5, 1, executeFns.PUSH_PSW],
  'ORI D8':   [0xf6, 2],
  'RST 6':    [0xf7, 1],
  'RM':       [0xf8, 1],
  'SPHL':     [0xf9, 1],
  'JM a':     [0xfa, 3],
  'EI':       [0xfb, 1, executeFns.EI],
  'CM a':     [0xfc, 3],
  'CPI D8':   [0xfe, 2, executeFns.CPI_D8],
  'RST 7':    [0xff, 1]
}